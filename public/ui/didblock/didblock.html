<div style="margin:100px"></div>

<div style="margin-left:80px; margin-right:80px;">

	<div class="well form-horizontal" style="margin-top:10px;" >
	
	<legend>DID Block Inventory <button class="btn btn-default btn-sm pull-right" ng-click="vm.refresh()"><i class="glyphicon glyphicon-refresh"></i> Refresh</button><br> <div style="margin:10px"></div></legend>
		
		<h4>Total DIDs: {{vm.resultValue | sumofValue: 'size'}}</h4>
		<h5>Block Types: {{vm.resultValue | countTypes: 'type'}}</h5>
		
		<div class="input-group col-md-3 ">
			<input type="text" class="form-control" ng-model="vm.search" ng-model-options="{ debounce: 10 }" placeholder="Search" name="srch-term" id="srch-term">
			<div class="input-group-btn">
				<button class="btn btn-default btn-disabled" ng-click="vm.search = undefined"><i class="glyphicon glyphicon-search"></i>
			</div>
		</div>
		
		<!--<h5>Total DIDs: {{vm.Total}}</h5>-->
		
		
		<div style="margin:25px"></div>
		
		<a href="#/didblock/create" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-plus"></i> Add</a>
		
		<div style="margin:25px"></div>
		
		<div ng-if="vm.loading" class="well">
			<div class="row">
				<h4 class="col-sm-3 col-sm-offset-4">Loading... Please Wait...</h4>
				<div class="container loader col-sm-1" style="margin:-5px; margin-left:-100px"></div>
			</div>
			<div class="row">
				
			</div>
				<!--<img src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
				-->
		</div>
		
		<div ng-if="!vm.loading">
		
		<div class="panel panel-default" style="box-shadow: 1px 1px 5px grey;">
			<table class="table table-striped table-condensed table-bordered table-hover">
				<thead>
					<tr class="success">
						<th>
							<a href="" ng-click="sortType = 'id'; sortReverse = !sortReverse" style="color:black">
								ID
									<span ng-show="sortType == 'id' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'id' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>

						<th>
							<a href="" ng-click="sortType = 'name'; sortReverse = !sortReverse" style="color:black">
								Name
									<span ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						
						<th>
							<a href="" ng-click="sortType = 'carrier'; sortReverse = !sortReverse" style="color:black">
								Carrier
									<span ng-show="sortType == 'carrier' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'carrier' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>	

						<th>
							<a href="" ng-click="sortType = 'country_code'; sortReverse = !sortReverse" style="color:black">
								Country Code
									<span ng-show="sortType == 'country_code' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'country_code' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>	
						
						<th>
							<a href="" ng-click="sortType = 'start'; sortReverse = !sortReverse" style="color:black">
								Block Start
									<span ng-show="sortType == 'start' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'start' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						
						<th>
							<a href="" ng-click="sortType = 'end'; sortReverse = !sortReverse" style="color:black">
								Block End
									<span ng-show="sortType == 'end' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'end' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						
						<th>
							<a href="" ng-click="sortType = 'size'; sortReverse = !sortReverse" style="color:black">
								Block Size
									<span ng-show="sortType == 'size' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'size' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						
						<th>
							<a href="" ng-click="sortType = 'type'; sortReverse = !sortReverse" style="color:black">
								Type
									<span ng-show="sortType == 'type' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'type' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>

						<th>
							<a href="" ng-click="sortType = 'comment'; sortReverse = !sortReverse" style="color:black">
								Comment
									<span ng-show="sortType == 'comment' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'comment' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>

						<th>
							<a href="" ng-click="sortType = 'created_at'; sortReverse = !sortReverse" style="color:black">
								Created At
									<span ng-show="sortType == 'created_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'created_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						
						<th>
							<a href="" ng-click="sortType = 'updated_at'; sortReverse = !sortReverse" style="color:black">
								Updated At
									<span ng-show="sortType == 'updated_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
									<span ng-show="sortType == 'updated_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
							</a>
						</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
				<!--<tr ng-repeat="didblock in vm.didblocks | orderBy:sortType:sortReverse | filter:vm.search">
						<td>{{ didblock.id}}</a></td>
						<td>{{ didblock.country_code}}</td>
						<td>{{ didblock.name}}</td>
						<td>{{ didblock.carrier}}</a></td>
						<td>{{ didblock.start}}</td>
						<td>{{ didblock.end}}</td>
						<td>{{ didblock.type}}</a></td>
						<td>{{ didblock.comment}}</td>
						<td>{{ didblock.created_at}}</td>
						<td>{{ didblock.updated_at}}</td>
				</tr>
				</tbody>
				</table>-->
				
				<!-- Allow you to edit and delete Blocks with new buttons -->
				<!--<tr ng-repeat="didblock in vm.didblocks | orderBy:sortType:sortReverse | filter:vm.search: strict">-->
				<tr ng-repeat="didblock in vm.resultValue=(vm.didblocks | orderBy:sortType:sortReverse | filter:vm.search: strict)">
				
					<!--List View-->
					<td><a ui-sref="getdidblock({id: didblock.id})"><button class="btn btn-xs btn-default btn-block">{{ didblock.id}}</button></a></td>
					<!--<td>{{ didblock.id}}</a></td>-->
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.name}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.carrier}}</a></td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.country_code}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.start}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.end}}</td>
					<!--<td   ng-show="!vm.edit[didblock.id]">{{ didblock.end - didblock.start + 1}}</td>-->
					<!--<td   ng-show="!vm.edit[didblock.id]" ng-init="didblock.total = didblock.end - didblock.start + 1; vm.Total = vm.Total + didblock.total">{{didblock.total}}</td>-->
					<td   ng-show="!vm.edit[didblock.id]" ng-init="didblock.size = didblock.end - didblock.start + 1">{{didblock.size}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.type}}</a></td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.comment}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.created_at}}</td>
					<td   ng-show="!vm.edit[didblock.id]">{{ didblock.updated_at}}</td>
					<td   ng-show="!vm.edit[didblock.id]">
						<button class="btn btn-primary btn-xs "  ng-click="vm.edit[didblock.id] = !vm.edit[didblock.id]"> Edit </button>
						<button class="btn btn-danger btn-xs " ng-click="vm.delete(didblock)"> Delete </button>
					</td>

					<!--Edit View-->
					<td   ng-show="vm.edit[didblock.id]"><input type="text" class="form-control form-control-sm" ng-model="didblock.name"></td>
					<td   ng-show="vm.edit[didblock.id]"><input type="text" class="form-control form-control-sm" ng-model="didblock.carrier"></td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.country_code}}</td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.start}}</td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.end}}</td>
					<!--<td   ng-show="vm.edit[didblock.id]">{{ didblock.end - didblock.start + 1}}</td>-->
					<!--<td   ng-show="vm.edit[didblock.id]" ng-init="didblock.total = didblock.end - didblock.start + 1;"></td>-->
					<td   ng-show="vm.edit[didblock.id]" ng-init="didblock.size = didblock.end - didblock.start + 1;">{{didblock.size}}</td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.type}}</td>
					<td   ng-show="vm.edit[didblock.id]"><input type="text" class="form-control form-control-sm" ng-model="didblock.comment"></td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.created_at}}</td>
					<td   ng-show="vm.edit[didblock.id]">{{ didblock.updated_at}}</td>
					
					<td  ng-show="vm.edit[didblock.id]">
						<button class="btn btn-xs btn-primary"  ng-click="vm.update(didblock);vm.edit[didblock.id] = !vm.edit[didblock.id]"> Save </button>
						<button class="btn btn-xs btn-warning"  ng-click="vm.edit[didblock.id] = !vm.edit[didblock.id]"> Undo </button>
					</td>
				</tr>
						
				</tbody>
			</table>
		</div>
		
		<a href="#/didblock/create" class="btn btn-primary btn-sm"><i class="glyphicon glyphicon-plus"></i> Add</a>
		
		</div>
	</div>
</div>