
<div class="well form-horizontal" style="margin-top:10px;" >
	
	<legend>DID Block Details<button class="btn btn-default btn-sm pull-right" style="color: white; background-color:#555a5e;" ng-click="vm.refresh()"><i class="glyphicon glyphicon-refresh"></i> Refresh</button><br> <div style="margin:10px"></div></legend>
	
	<div class="input-group col-md-3 ">
		<input type="text" class="form-control" ng-model="vm.search" ng-model-options="{ debounce: 10 }" placeholder="Search" name="srch-term" id="srch-term">
		<div class="input-group-btn">
			<button class="btn btn-default btn-disabled" ng-click="vm.search = undefined"><i class="glyphicon glyphicon-search"></i>
		</div>
	</div>
	
	<div style="margin:50px"></div>

	<hr>
	<div class="panel panel-default" style="box-shadow: 1px 1px 5px grey;">
		<table class="table table-striped table-condensed table-bordered table-hover">
			<thead>
				<tr class="success">
					<th>
						<a href="" ng-click="sortType = 'id'; sortReverse = !sortReverse" style="color:black">
							ID
								<span ng-show="sortType == 'id' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'id' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'parent'; sortReverse = !sortReverse" style="color:black">
							Parent ID
								<span ng-show="sortType == 'parent' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'parent' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>					

					<th>
						<a href="" ng-click="sortType = 'name'; sortReverse = !sortReverse" style="color:black">
							Name
								<span ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'carrier'; sortReverse = !sortReverse" style="color:black">
							Carrier
								<span ng-show="sortType == 'carrier' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'carrier' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>					
					
					<th>
						<a href="" ng-click="sortType = 'start'; sortReverse = !sortReverse" style="color:black">
							Block Start
								<span ng-show="sortType == 'start' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'start' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'end'; sortReverse = !sortReverse" style="color:black">
							Block End
								<span ng-show="sortType == 'end' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'end' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'type'; sortReverse = !sortReverse" style="color:black">
							Type
								<span ng-show="sortType == 'type' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'type' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>

					<th>
						<a href="" ng-click="sortType = 'comment'; sortReverse = !sortReverse" style="color:black">
							Comment
								<span ng-show="sortType == 'comment' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'comment' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>

					<th>
						<a href="" ng-click="sortType = 'created_at'; sortReverse = !sortReverse" style="color:black">
							Created At
								<span ng-show="sortType == 'created_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'created_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'updated_at'; sortReverse = !sortReverse" style="color:black">
							Updated At
								<span ng-show="sortType == 'updated_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'updated_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					<!--<th>Actions</th>-->
				</tr>
			</thead>
			<tbody>

			<tr>
					<td>{{ vm.didblock.id}}</a></td>
					<td>{{ vm.didblock.country_code}}</td>
					<td>{{ vm.didblock.name}}</td>
					<td>{{ vm.didblock.carrier}}</a></td>
					<td>{{ vm.didblock.start}}</td>
					<td>{{ vm.didblock.end}}</td>
					<td>{{ vm.didblock.type}}</a></td>
					<td>{{ vm.didblock.comment}}</td>
					<td>{{ vm.didblock.created_at}}</td>
					<td>{{ vm.didblock.updated_at}}</td>
			</tr>
			</tbody>
		</table>
	</div>
	
	<hr>
	
	<legend>Block Children</legend>
	
	
	<div class="panel panel-default" style="box-shadow: 1px 1px 5px grey;">
		<table class="table table-striped table-condensed table-bordered table-hover">
			<thead>
				<tr class="success">
					<th>
						<a href="" ng-click="sortType = 'id'; sortReverse = !sortReverse" style="color:black">
							ID
								<span ng-show="sortType == 'id' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'id' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'country_code'; sortReverse = !sortReverse" style="color:black">
							Country Code
								<span ng-show="sortType == 'country_code' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'country_code' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>					

					<th>
						<a href="" ng-click="sortType = 'name'; sortReverse = !sortReverse" style="color:black">
							Name
								<span ng-show="sortType == 'name' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'name' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'number'; sortReverse = !sortReverse" style="color:black">
							Number
								<span ng-show="sortType == 'number' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'number' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>					
					
					<th>
						<a href="" ng-click="sortType = 'status'; sortReverse = !sortReverse" style="color:black">
							Status
								<span ng-show="sortType == 'status' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'status' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'systemid'; sortReverse = !sortReverse" style="color:black">
							System ID
								<span ng-show="sortType == 'systemid' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'systemid' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'assignments'; sortReverse = !sortReverse" style="color:black">
							Assignments
								<span ng-show="sortType == 'assignments' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'assignments' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>

					<th>
						<a href="" ng-click="sortType = 'created_at'; sortReverse = !sortReverse" style="color:black">
							Created At
								<span ng-show="sortType == 'created_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'created_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					
					<th>
						<a href="" ng-click="sortType = 'updated_at'; sortReverse = !sortReverse" style="color:black">
							Updated At
								<span ng-show="sortType == 'updated_at' && !sortReverse" class="glyphicon glyphicon-chevron-down"></span>
								<span ng-show="sortType == 'updated_at' && sortReverse" class="glyphicon glyphicon-chevron-up"></span>
						</a>
					</th>
					<th>Actions</th>
				</tr>
			</thead>
			<tbody>
			</thead>
			<tbody>
			<!-- Allow you to edit and delete Blocks with new buttons -->
			<tr ng-repeat="did in vm.dids | orderBy:sortType:sortReverse | filter:vm.search: strict">
			
				<!--List View-->
				<td>{{ did.id}}</a></td>
				<td   ng-show="!vm.edit[did.id]">{{ did.didblock_id}}</td>
				<td   ng-show="!vm.edit[did.id]">{{ did.name}}</td>
				<td   ng-show="!vm.edit[did.id]">{{ did.number}}</a></td>
				<td   ng-show="!vm.edit[did.id]">{{ did.status}}</td>
				<td   ng-show="!vm.edit[did.id]">{{ did.system_id}}</td>
				<td   ng-show="!vm.edit[did.id]">{{ did.assignments}}</a></td>
				<td   ng-show="!vm.edit[did.id]">{{ did.created_at}}</td>
				<td   ng-show="!vm.edit[did.id]">{{ did.updated_at}}</td>
				<td   ng-show="!vm.edit[did.id]">
					<button class="btn btn-xs btn-primary"  ng-click="vm.edit[did.id] = !vm.edit[did.id]"> Edit </button>
				</td>

				<!--Edit View-->
				<td   ng-show="vm.edit[did.id]">{{ did.didblock_id}}</td>
				<td   ng-show="vm.edit[did.id]"><input type="text" class="form-control form-control-sm" ng-model="did.name"></td>
				<td   ng-show="vm.edit[did.id]">{{ did.number}}</td>
				<td   ng-show="vm.edit[did.id]"><input type="text" class="form-control form-control-sm" ng-model="did.status"></td>
				<td   ng-show="vm.edit[did.id]"><input type="text" class="form-control form-control-sm" ng-model="did.system_id"></td>
				<td   ng-show="vm.edit[did.id]">{{ did.assignments}}</td>
				<td   ng-show="vm.edit[did.id]">{{ did.created_at}}</td>
				<td   ng-show="vm.edit[did.id]">{{ did.updated_at}}</td>
				
				<td  ng-show="vm.edit[did.id]">
					<button class="btn btn-xs btn-primary"  ng-click="vm.update(did);vm.edit[did.id] = !vm.edit[did.id]"> Save </button>
					<button class="btn btn-xs btn-warning"  ng-click="vm.edit[did.id] = !vm.edit[did.id]"> Undo </button>
				</td>
			</tr>
			</tbody>
		</table>
	</div>
	