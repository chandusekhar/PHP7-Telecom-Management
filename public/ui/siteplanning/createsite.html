<div style="margin:100px"></div>

<div class="container">
<div class="well">
<div style="margin:50px"></div>

	<div class="row">
		<div class="col-md-12 col-sm-8 col-lg-8 col-md-offset-2">
			<script type="text/ng-template" id="error-messages">
							<div ng-message='required'> This Field is required </div>
							<div ng-message='minlength'> Too short </div>
							<div ng-message='maxlength'> Too long </div>
			</script>
			<div class="panel panel-primary">
				<div class="panel-heading"><h3>Create New Site - This needs work!</h3></div>
				<div class="panel-body">
					<form class="form" role="form" id="addsiteForm" ng-submit='addsiteForm.$valid && vm.submitsite(vm.siteForm)' novalidate name="addsiteForm">
						<div class="row">
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.sitecode.$touched && addsiteForm.sitecode.$invalid, 'has-success': addsiteForm.name.$touched && addsiteForm.name.$valid }">
									<label for="sitecode" class="control-label">Sitecode</label>
									<input type="text" ng-model='vm.siteForm.sitecode' required class="form-control"  name="sitecode" placeholder="Sitecode" ng-minlength='8' ng-maxlength='8'>
									<div ng-messages="addsiteForm.sitecode.$dirty && addsiteForm.sitecode.$error">
										<div ng-message='required'> Sitecode is required </div>
										<div ng-message='minlength'>Please enter a Sitecode at least 8 chars long</div>
										<div ng-message='maxlength'>Name entered cannot be longer than 8 chars</div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">	
							

							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.carrier.$touched && addsiteForm.carrier.$invalid, 'has-success': addsiteForm.carrier.$touched && addsiteForm.carrier.$valid }">
									<label for="carrier" class="control-label">Carrier</label>
									<input type="text" ng-model='vm.siteForm.carrier' class="form-control"  name="carrier" placeholder="Carrier" ng-minlength='1' ng-maxlength='50'>
									<div ng-messages="addsiteForm.carrier.$dirty && addsiteForm.carrier.$error">
									</div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.eventDescription.$touched && addsiteForm.eventDescription.$invalid, 'has-success': addsiteForm.eventDescription.$touched && addsiteForm.eventDescription.$valid }">
									<label for="eventDescription" class="control-label">Comment</label>
									<input type="textarea" ng-model='vm.siteForm.comment' class="form-control" name="eventDescription" placeholder="Comment">
									<div ng-messages="addsiteForm.eventDescription.$dirty && addsiteForm.eventDescription.$error">
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.countrycode.$touched && addsiteForm.countrycode.$invalid, 'has-success': addsiteForm.countrycode.$touched && addsiteForm.countrycode.$valid }">
									<label for="countrycode" required class=" control-label">Country Code</label>
									<input type="text" required ng-pattern='/[0-9]+/' ng-model='vm.siteForm.country_code' class="form-control" name="countrycode" placeholder="1">
									<div ng-messages="addsiteForm.countrycode.$dirty && addsiteForm.countrycode.$error">
										<div ng-message="pattern">Please enter a valid country code</div>
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
						</div>
						<div class="row">

							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.npa.$touched && addsiteForm.npa.$invalid, 'has-success': addsiteForm.npa.$touched && addsiteForm.npa.$valid }">
									<label for="npa" required class=" control-label">NPA (Area Code)</label>
									<input type="text" required ng-pattern='/^[0-9]+/' ng-model='vm.siteForm.npa' class="form-control" name="npa" placeholder="402" ng-minlength='3' ng-maxlength='3'>
									<div ng-messages="addsiteForm.npa.$dirty && addsiteForm.npa.$error">
										<div ng-message="pattern">Please enter the npa in the numberic format</div>
										<div ng-message='minlength'>Please enter least 3 digits</div>
										<div ng-message='maxlength'>Please enter least 3 digits</div>
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.nxx.$touched && addsiteForm.nxx.$invalid, 'has-success': addsiteForm.nxx.$touched && addsiteForm.nxx.$valid }">
									<label for="nxx" required class=" control-label">NXX (Next 3 after Area Code)</label>
									<input type="text" required ng-pattern='/^[0-9]+/' ng-model='vm.siteForm.nxx' class="form-control" name="nxx" placeholder="938"  ng-minlength='3' ng-maxlength='3'>
									<div ng-messages="addsiteForm.nxx.$dirty && addsiteForm.nxx.$error">
										<div ng-message="pattern">Please enter the nxx in the numberic format</div>
										<div ng-message='minlength'>Please enter least 3 digits</div>
										<div ng-message='maxlength'>Please enter least 3 digits</div>
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>	
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.didrange.$touched && addsiteForm.didrange.$invalid, 'has-success': addsiteForm.didrange.$touched && addsiteForm.didrange.$valid }">
									<label for="didrange" required class=" control-label">DID Range Regex (Example - 40[2-9]X)</label>
									<input type="textarea" required ng-pattern='/^[0-9,\],\-,\[,X]+/' ng-model='vm.siteForm.didrange' class="form-control" name="didrange" placeholder="40[2-9]X" ng-minlength='4'>
									<div ng-messages="addsiteForm.didrange.$dirty && addsiteForm.didrange.$error">
										<div ng-message="pattern">Please enter the didrange in the regex format</div>
										<div ng-message='minlength'>Please enter least 4 charactors</div>
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>	
							
						</div>
						
						<div class="row">
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.didblocks.$touched && addsiteForm.didblocks.$invalid, 'has-success': addsiteForm.didblocks.$touched && addsiteForm.eventCategory.$valid }">
									<label for="didblocks"  class="control-label">DID Blocks (From DID Database - multiples)</label>
									<select class="form-control" required ng-model='vm.siteForm.didblocks' ng-options="block.id as block.start + ' - ' + block.end  + ' | ' + block.name for block in vm.didblocks | filter: vm.siteForm.npa  | orderBy:'start'" data-width="100%" name="didblocks" multiple >
									</select>
									<div ng-messages="addsiteForm.didblocks.$dirty && addsiteForm.didblocks.$error">
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.trunking.$touched && addsiteForm.trunking.$invalid, 'has-success': addsiteForm.trunking.$touched && addsiteForm.trunking.$valid }">
									<label for="trunking"  class="control-label">Trunking - Not working</label><br>
									<label> 
										<input type="radio" class="radio-inline" required ng-model='vm.siteForm.trunking' ng-value="sip" data-width="100%" name="trunking">
										SIP
									</label>
									<label> 
										<input type="radio" class="radio-inline" required ng-model='vm.siteForm.trunking' ng-value="local" data-width="100%" name="trunking">
										Local PRI
									</label>
									<div ng-messages="addsiteForm.trunking.$dirty && addsiteForm.trunking.$error">
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
						</div>
						
						<div class="row">

							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.timezone.$touched && addsiteForm.timezone.$invalid, 'has-success': addsiteForm.timezone.$touched && addsiteForm.eventCategory.$valid }">
									<label for="timezone"  class="control-label">CUCM Data Time Group</label>
									<select class="form-control" required ng-model='vm.siteForm.timezone' ng-options="timezone as timezone for timezone in vm.datetimegrps" data-width="100%" name="timezone">
									</select>
									<div ng-messages="addsiteForm.timezone.$dirty && addsiteForm.timezone.$error">
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group" ng-class="{'has-error': addsiteForm.extlength.$touched && addsiteForm.extlength.$invalid, 'has-success': addsiteForm.extlength.$touched && addsiteForm.eventCategory.$valid }">
									<label for="extlength"  class="control-label">Short Extension Length (Standard is 4)</label>
									<select class="form-control" required ng-model='vm.siteForm.extlength' ng-options="extlength as extlength for extlength in vm.extlength" data-width="100%" name="extlength">
									</select>
									<div ng-messages="addsiteForm.extlength.$dirty && addsiteForm.extlength.$error">
										<div ng-messages-include="error-messages"></div>
									</div>
								</div>
							</div>
						</div>
						
						 Print Form JSON
						<div class="row">
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								{{vm.siteForm}}
								
							</div>
						</div>
						
						<!---->
						
						<hr />
						<div class="row">
							<div class="col-md-6 col-sm-6 col-xs-12 col-lg-6">
								<div class="form-group">
									<button  type="submit" ng-disabled="addsiteForm.$invalid" class="btn btn-primary">Submit</button>
									<button type="reset" class="btn btn-primary">Reset</button>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<div class="row">
		<div style="margin:25px"></div>
	</div>
</div>
</div>
